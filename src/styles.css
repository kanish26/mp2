/* ====== Base palette and layout ====== */

:root {
  --bg: #0f172a;
  --panel: #111827;
  --ink: #e5e7eb;
  --muted: #9ca3af;
  --brand: #60a5fa;
  --chip: #1f2937;
  --chip-on: #2563eb;
}
* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body { margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; color: var(--ink); background: var(--bg); }

.app-shell { min-height: 100%; display: grid; grid-template-rows: auto 1fr auto; }
.topbar { position: sticky; top: 0; z-index: 10; background: var(--panel); border-bottom: 1px solid #1f2937; display: flex; gap: 1rem; align-items: center; padding: .75rem 1rem; }
.brand { color: var(--ink); text-decoration: none; font-weight: 700; letter-spacing: .2px; }
.nav { display: flex; gap: .75rem; }
.nav a { color: var(--muted); text-decoration: none; padding: .35rem .5rem; border-radius: .5rem; }
.nav a.active { color: white; background: #1f2937; }

.container { width: min(1100px, 92vw); margin: 1rem auto 2rem; }
.footer { color: var(--muted); text-align: center; padding: 1rem; border-top: 1px solid #1f2937; background: var(--panel); }

h1 { margin: .25rem 0 1rem; font-size: 1.75rem; }
.muted { color: var(--muted); }
.badge { background: #1f2937; color: var(--ink); padding: .15rem .5rem; border-radius: .35rem; font-size: .8rem; }
.toolbar { display: flex; gap: .75rem; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; }
.search { flex: 1; min-width: 260px; padding: .6rem .7rem; border-radius: .6rem; border: 1px solid #374151; background: #0b1022; color: var(--ink); }
.btn { background: var(--brand); color: #081226; border: none; padding: .5rem .8rem; border-radius: .6rem; font-weight: 700; cursor: pointer; }
.btn:disabled { opacity: .5; cursor: not-allowed; }
.btn--ghost { background: transparent; color: var(--ink); border: 1px solid #374151; }

/* ====== List view ====== */
.list { list-style: none; margin: 0; padding: 0; display: grid; gap: .75rem; }
.list-item { background: var(--panel); padding: .6rem; border: 1px solid #1f2937; border-radius: .8rem; }
.list-link { display: grid; grid-template-columns: auto 1fr; gap: .75rem; color: inherit; text-decoration: none; }
.list-item img { border-radius: .5rem; display: block; }
.overview { display: -webkit-box; -webkit-line-clamp: 2; line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; color: var(--muted); }
.placeholder { display: grid; place-items: center; background: #0b1022; color: #334155; border-radius: .5rem; width: 92px; height: 138px; }
.placeholder.big { width: 228px; height: 342px; }

.sort-controls { display: flex; gap: .5rem; align-items: center; }
.sort-controls select { background: #0b1022; color: var(--ink); border: 1px solid #374151; padding: .45rem .5rem; border-radius: .5rem; }

/* ====== Genre chips ====== */
.genre-filter { display: flex; gap: .5rem; flex-wrap: wrap; margin-bottom: 1rem; }
.chip { display: inline-flex; align-items: center; gap: .35rem; background: var(--chip); color: var(--ink); border: 1px solid #1f2937; padding: .35rem .6rem; border-radius: 999px; font-size: .85rem; }
.chip input { accent-color: var(--brand); }
.chip--on { background: var(--chip-on); border-color: #1d4ed8; }

/* ====== Gallery grid ====== */
.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: .9rem; }
.card { background: var(--panel); border: 1px solid #1f2937; border-radius: .8rem; overflow: hidden; color: inherit; text-decoration: none; display: flex; flex-direction: column; }
.card img { display: block; width: 100%; height: 100%; object-fit: cover; }
.card-meta { display: flex; justify-content: space-between; align-items: center; padding: .6rem .7rem; }

/* ====== Details layout: prevent text overlap with poster ====== */
.details-grid {
  display: grid;
  grid-template-columns: minmax(260px, 342px) 1fr; /* poster column then text column */
  gap: 1rem;
  align-items: start;
}
.poster {
  display: block;
  width: 100%;
  max-width: 342px; /* never exceed column width */
  height: auto;
  border-radius: .5rem;
}
.tagline { color: #a5b4fc; }
.nav-buttons { display: flex; gap: .5rem; margin-top: 1rem; }

/* ====== Landing page ====== */
.landing { display: grid; gap: 2rem; }

/* Hero */
.hero {
  background: linear-gradient(180deg, #0b1228, rgba(11,18,40,0));
  border: 1px solid #1f2937;
  border-radius: 1rem;
  padding: 2rem;
}
.hero-title { font-size: 2rem; margin: 0 0 .5rem; }
.hero-sub { color: var(--muted); margin: 0 0 1rem; max-width: 60ch; }
.hero-cta { display: flex; gap: .75rem; margin-bottom: .5rem; }
.hero-note { color: var(--muted); font-size: .95rem; }

/* Info cards */
.cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1rem; }
.info-card {
  background: var(--panel);
  border: 1px solid #1f2937;
  border-radius: .8rem;
  padding: 1rem;
}
.info-card h3 { margin: 0 0 .25rem; }
.info-card .link { color: var(--brand); text-decoration: none; font-weight: 600; }

/* Trending row */
.trending { display: grid; gap: .5rem; }
.row-head { display: flex; align-items: baseline; gap: 1rem; }
.scroll-row {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(140px, 160px);
  gap: .75rem;
  overflow-x: auto;
  padding-bottom: .25rem;
}
.thumb {
  display: grid;
  gap: .35rem;
  color: inherit;
  text-decoration: none;
}
.thumb img { width: 100%; height: auto; border-radius: .5rem; display: block; }
.placeholder.tall { width: 100%; height: 278px; border-radius: .5rem; }
.thumb-caption {
  display: flex; justify-content: space-between; align-items: center;
}
.thumb-title {
  display: -webkit-box; -webkit-line-clamp: 1; line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden;
}

@media (max-width: 720px) {
  .details-grid { grid-template-columns: 1fr; }
  .poster { max-width: 100%; }
  .placeholder.big { width: 100%; height: 420px; }
}